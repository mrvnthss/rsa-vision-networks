# @package _global_

# Multi-run configuration
experiment:
  name: lenet_fashionmnist/grid_search/momentum_wd
  dir:  ../out/${experiment.name}/${now:%Y-%m-%d_%H-%M-%S}
  sub_dir: momentum=${optimizer.kwargs.momentum},wd=${optimizer.kwargs.weight_decay}
paths:
  checkpoints: ${experiment.dir}/${experiment.sub_dir}/checkpoints
  tensorboard: ${experiment.dir}/${experiment.sub_dir}/tensorboard
hydra:
  mode: MULTIRUN
  sweep:
    dir: ${experiment.dir}
    subdir: ${experiment.sub_dir}/logs
  sweeper:
    params:
      # Grid search parameters
      optimizer.kwargs.momentum: 0.7, 0.8, 0.85, 0.9, 0.95, 0.99
      optimizer.kwargs.weight_decay: 0.01, 0.001, 1e-4, 1e-5, 1e-6

# Fixed training parameters
reproducibility:
  torch_seed: 89
  shuffle_seed: 858
dataset:
  transform_params:
    resize_size: ${model.input_size}  # matches the input size of the model
dataloader:
  batch_size: 64  # based on 'batch_size_lr.yaml' grid search
  num_workers: 0
optimizer:
  kwargs:
    lr: 0.01  # based on 'batch_size_lr.yaml' grid search
performance:
  patience: 20
